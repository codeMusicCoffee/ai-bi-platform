# 项目开发日志

本文档记录项目的关键决策、已完成的功能和重要的历史上下文。

---

## 📅 2026-01-28

### ✅ 完成的工作

- **AGENT.md 补充**: 添加了项目架构、技术栈和核心模块说明
- **AI 驱动体系搭建**: 完成基础的 `.agent/` 体系建设

### 🔧 技术决策

- **Sandpack 配置冻结**: 经过多次调试后，`DashboardPreview.tsx` 的配置已稳定，详见 `.spec/sandbox.md`
- **组件复用优先**: 所有表格/表单/搜索功能优先使用 `SealedTable`, `SealedForm`, `SealedSearch`

---

## 📅 2026-01-27

### ✅ 完成的工作

- 修复看板 API 集成问题（字段名称不匹配）
- 完善拖拽功能，节点选中逻辑优化

---

## 📅 2026-01-23

### ✅ 完成的工作

- 集成产品图片上传功能
- 修复导出异常数据时的 500 错误
- 添加 `AddBigEvent` 表单验证

---

## 📅 2026-01-22

### ✅ 完成的工作

- 实现产品节点的完整 CRUD（创建、编辑、删除）
- 优化 `CategoryTree` 自动刷新机制
- 数据清洗规则可视化配置界面

---

## 📅 2026-01-21

### ✅ 完成的工作

- 重构 `BrandCard` 使用 `SealedForm`
- 优化产品时间线显示（空状态设计）
- 集成产品创建后自动刷新列表

---

## 冻结区记录

以下代码区域已被标记为**冻结**，禁止修改（除非经过明确授权）：

### 1. Sandpack 配置 (`components/DashboardPreview.tsx`)

- **冻结时间**: 2026-01-XX
- **原因**: 该配置经过反复调试，已解决流式数据加载和初始化竞态问题
- **详细说明**: 见 `.spec/sandbox.md`

---

## 常见问题 (FAQ)

### Q: 为什么不能直接修改 UI 样式？

A: 项目采用 Design Token 体系（见 `component-rule.md`），所有颜色、圆角、间距都有标准值。随意修改会导致视觉不一致。

### Q: 如何添加新的全局状态？

A: 在 `store/` 目录下创建对应的 Zustand Store，参考现有的 `categoryStore.ts`。

### Q: API 调用报 CORS 错误怎么办？

A: 检查 `next.config.ts` 中的代理配置，确保后端接口 `http://192.168.110.29:8000` 可访问。

---

_此日志由 AI 和开发者共同维护，保持更新。_
