// backend-nest/src/datasets/datasets.mock.ts - Mock datasets metadata and samples
import { DatasetMeta } from './datasets.types';

export const MOCK_DATASETS: Record<string, DatasetMeta> = {
  ds_sales_2024: {
    id: 'ds_sales_2024',
    name: '2024年销售数据',
    description:
      '包含2024年全年各产品线销售数据，涵盖销售额、销售量、渠道分布等指标',
    type: 'sales',
    source: 'ERP系统',
    row_count: 125680,
    column_count: 18,
    columns: [
      { name: 'date', type: 'date', description: '销售日期' },
      { name: 'product_id', type: 'string', description: '产品ID' },
      { name: 'product_name', type: 'string', description: '产品名称' },
      { name: 'category', type: 'string', description: '品类' },
      { name: 'series', type: 'string', description: '系列' },
      { name: 'brand', type: 'string', description: '品牌' },
      { name: 'channel', type: 'string', description: '销售渠道' },
      { name: 'region', type: 'string', description: '销售区域' },
      { name: 'quantity', type: 'integer', description: '销售数量' },
      { name: 'unit_price', type: 'decimal', description: '单价(元)' },
      { name: 'total_amount', type: 'decimal', description: '销售总额(元)' },
      { name: 'cost', type: 'decimal', description: '成本(元)' },
      { name: 'profit', type: 'decimal', description: '毛利润(元)' },
      { name: 'profit_rate', type: 'decimal', description: '毛利率(%)' },
      { name: 'customer_type', type: 'string', description: '客户类型' },
      { name: 'salesperson', type: 'string', description: '销售人员' },
      { name: 'order_id', type: 'string', description: '订单号' },
      { name: 'created_at', type: 'datetime', description: '创建时间' },
    ],
    update_frequency: 'daily',
    last_updated: '2024-12-31T23:59:59',
    created_at: '2024-01-01T00:00:00',
    tags: ['销售', '核心指标', '日报'],
  },
  ds_product_performance: {
    id: 'ds_product_performance',
    name: '产品表现分析',
    description:
      '产品生命周期各阶段的表现数据，包括研发进度、上市表现、市场反馈等',
    type: 'analytics',
    source: '数据仓库',
    row_count: 856,
    column_count: 22,
    columns: [
      { name: 'product_id', type: 'string', description: '产品ID' },
      { name: 'product_name', type: 'string', description: '产品名称' },
      { name: 'lifecycle_stage', type: 'string', description: '生命周期阶段' },
      { name: 'stage_start_date', type: 'date', description: '阶段开始日期' },
      {
        name: 'stage_duration_days',
        type: 'integer',
        description: '阶段持续天数',
      },
      { name: 'rd_progress', type: 'decimal', description: '研发进度(%)' },
      { name: 'quality_score', type: 'decimal', description: '质量评分' },
      { name: 'market_score', type: 'decimal', description: '市场评分' },
      {
        name: 'monthly_sales_volume',
        type: 'integer',
        description: '月均销量',
      },
      {
        name: 'monthly_revenue',
        type: 'decimal',
        description: '月均营收(万元)',
      },
      { name: 'market_share', type: 'decimal', description: '市场份额(%)' },
      {
        name: 'customer_satisfaction',
        type: 'decimal',
        description: '客户满意度',
      },
      { name: 'return_rate', type: 'decimal', description: '退货率(%)' },
      { name: 'complaint_count', type: 'integer', description: '投诉次数' },
      {
        name: 'positive_review_rate',
        type: 'decimal',
        description: '好评率(%)',
      },
      { name: 'competitor_ranking', type: 'integer', description: '竞品排名' },
      {
        name: 'price_competitiveness',
        type: 'decimal',
        description: '价格竞争力指数',
      },
      { name: 'channel_coverage', type: 'integer', description: '渠道覆盖数' },
      {
        name: 'inventory_turnover',
        type: 'decimal',
        description: '库存周转率',
      },
      { name: 'tech_manager', type: 'string', description: '技术负责人' },
      { name: 'rd_manager', type: 'string', description: '研发负责人' },
      { name: 'updated_at', type: 'datetime', description: '更新时间' },
    ],
    update_frequency: 'weekly',
    last_updated: '2024-12-29T10:00:00',
    created_at: '2024-03-15T00:00:00',
    tags: ['产品分析', '生命周期', '周报'],
  },
  ds_market_trends: {
    id: 'ds_market_trends',
    name: '市场趋势数据',
    description: '行业市场趋势、竞争对手分析、消费者偏好变化等外部市场数据',
    type: 'market',
    source: '第三方数据服务',
    row_count: 4520,
    column_count: 15,
    columns: [
      { name: 'period', type: 'string', description: '统计周期' },
      { name: 'category', type: 'string', description: '品类' },
      { name: 'market_size', type: 'decimal', description: '市场规模(亿元)' },
      { name: 'growth_rate', type: 'decimal', description: '增长率(%)' },
      { name: 'top_brands', type: 'array', description: '头部品牌列表' },
      {
        name: 'our_market_share',
        type: 'decimal',
        description: '我方市场份额(%)',
      },
      { name: 'avg_price', type: 'decimal', description: '行业均价(元)' },
      { name: 'price_trend', type: 'string', description: '价格趋势' },
      {
        name: 'consumer_preference',
        type: 'object',
        description: '消费者偏好分析',
      },
      { name: 'channel_distribution', type: 'object', description: '渠道分布' },
      { name: 'seasonal_factor', type: 'decimal', description: '季节性系数' },
      { name: 'policy_impact', type: 'string', description: '政策影响' },
      { name: 'risk_level', type: 'string', description: '风险等级' },
      { name: 'opportunity_score', type: 'decimal', description: '机会评分' },
      { name: 'data_source', type: 'string', description: '数据来源' },
    ],
    update_frequency: 'monthly',
    last_updated: '2024-12-01T00:00:00',
    created_at: '2024-01-01T00:00:00',
    tags: ['市场', '竞争分析', '月报'],
  },
  ds_customer_insights: {
    id: 'ds_customer_insights',
    name: '客户洞察数据',
    description: '客户画像、购买行为、复购率、客户价值分析等数据',
    type: 'customer',
    source: 'CRM系统',
    row_count: 89350,
    column_count: 20,
    columns: [
      { name: 'customer_id', type: 'string', description: '客户ID' },
      { name: 'customer_type', type: 'string', description: '客户类型' },
      { name: 'region', type: 'string', description: '所在区域' },
      { name: 'city_tier', type: 'string', description: '城市等级' },
      { name: 'first_purchase_date', type: 'date', description: '首购日期' },
      { name: 'total_orders', type: 'integer', description: '累计订单数' },
      {
        name: 'total_amount',
        type: 'decimal',
        description: '累计消费金额(元)',
      },
      { name: 'avg_order_value', type: 'decimal', description: '客单价(元)' },
      { name: 'repurchase_rate', type: 'decimal', description: '复购率(%)' },
      { name: 'last_purchase_date', type: 'date', description: '最近购买日期' },
      { name: 'days_since_purchase', type: 'integer', description: '距今天数' },
      { name: 'rfm_score', type: 'decimal', description: 'RFM评分' },
      {
        name: 'customer_value_tier',
        type: 'string',
        description: '客户价值等级',
      },
      { name: 'preferred_products', type: 'array', description: '偏好产品' },
      { name: 'preferred_channel', type: 'string', description: '偏好渠道' },
      { name: 'age_group', type: 'string', description: '年龄段' },
      { name: 'gender', type: 'string', description: '性别' },
      { name: 'churn_risk', type: 'decimal', description: '流失风险(%)' },
      { name: 'ltv', type: 'decimal', description: '生命周期价值(元)' },
      { name: 'updated_at', type: 'datetime', description: '更新时间' },
    ],
    update_frequency: 'daily',
    last_updated: '2024-12-31T08:00:00',
    created_at: '2024-01-01T00:00:00',
    tags: ['客户', 'CRM', '日报'],
  },
  ds_inventory_stock: {
    id: 'ds_inventory_stock',
    name: '库存与供应链数据',
    description: '实时库存状态、补货预警、供应链效率等运营数据',
    type: 'operations',
    source: 'WMS系统',
    row_count: 3280,
    column_count: 16,
    columns: [
      { name: 'sku_id', type: 'string', description: 'SKU编码' },
      { name: 'product_name', type: 'string', description: '产品名称' },
      { name: 'warehouse', type: 'string', description: '仓库' },
      { name: 'current_stock', type: 'integer', description: '当前库存' },
      { name: 'safety_stock', type: 'integer', description: '安全库存' },
      { name: 'stock_status', type: 'string', description: '库存状态' },
      { name: 'days_of_supply', type: 'integer', description: '可供天数' },
      { name: 'avg_daily_sales', type: 'decimal', description: '日均销量' },
      { name: 'pending_orders', type: 'integer', description: '待发订单' },
      { name: 'in_transit', type: 'integer', description: '在途库存' },
      { name: 'last_restock_date', type: 'date', description: '上次补货日期' },
      { name: 'next_restock_eta', type: 'date', description: '预计到货日期' },
      { name: 'supplier', type: 'string', description: '供应商' },
      { name: 'unit_cost', type: 'decimal', description: '单位成本(元)' },
      { name: 'stock_value', type: 'decimal', description: '库存价值(元)' },
      { name: 'updated_at', type: 'datetime', description: '更新时间' },
    ],
    update_frequency: 'realtime',
    last_updated: '2024-12-31T15:30:00',
    created_at: '2024-06-01T00:00:00',
    tags: ['库存', '供应链', '实时'],
  },
};

export const MOCK_SAMPLE_DATA: Record<string, Record<string, unknown>[]> = {
  ds_sales_2024: [
    {
      date: '2024-12-31',
      product_id: 'PRD001',
      product_name: '经典浓香型白酒500ml',
      category: '白酒',
      series: '经典系列',
      brand: '国窖',
      channel: '电商',
      region: '华东',
      quantity: 1200,
      unit_price: 298.0,
      total_amount: 357600.0,
      cost: 178800.0,
      profit: 178800.0,
      profit_rate: 50.0,
      customer_type: '经销商',
      salesperson: '张三',
      order_id: 'ORD20241231001',
    },
    {
      date: '2024-12-31',
      product_id: 'PRD002',
      product_name: '年份珍藏酱香型白酒750ml',
      category: '白酒',
      series: '珍藏系列',
      brand: '茅台镇',
      channel: '专卖店',
      region: '华北',
      quantity: 500,
      unit_price: 1299.0,
      total_amount: 649500.0,
      cost: 389700.0,
      profit: 259800.0,
      profit_rate: 40.0,
      customer_type: '零售',
      salesperson: '李四',
      order_id: 'ORD20241231002',
    },
    {
      date: '2024-12-30',
      product_id: 'PRD003',
      product_name: '清香型白酒礼盒装',
      category: '白酒',
      series: '礼盒系列',
      brand: '汾酒',
      channel: '商超',
      region: '华中',
      quantity: 800,
      unit_price: 588.0,
      total_amount: 470400.0,
      cost: 282240.0,
      profit: 188160.0,
      profit_rate: 40.0,
      customer_type: '经销商',
      salesperson: '王五',
      order_id: 'ORD20241230001',
    },
    {
      date: '2024-12-29',
      product_id: 'PRD001',
      product_name: '经典浓香型白酒500ml',
      category: '白酒',
      series: '经典系列',
      brand: '国窖',
      channel: '电商',
      region: '华东',
      quantity: 1100,
      unit_price: 298.0,
      total_amount: 327800.0,
      cost: 163900.0,
      profit: 163900.0,
      profit_rate: 50.0,
      customer_type: '经销商',
      salesperson: '张三',
      order_id: 'ORD20241229001',
    },
    {
      date: '2024-12-28',
      product_id: 'PRD004',
      product_name: '特选红葡萄酒750ml',
      category: '红酒',
      series: '特选系列',
      brand: '张裕',
      channel: '商超',
      region: '华南',
      quantity: 1500,
      unit_price: 158.0,
      total_amount: 237000.0,
      cost: 118500.0,
      profit: 118500.0,
      profit_rate: 50.0,
      customer_type: '零售',
      salesperson: '赵六',
      order_id: 'ORD20241228001',
    },
    {
      date: '2024-12-27',
      product_id: 'PRD002',
      product_name: '年份珍藏酱香型白酒750ml',
      category: '白酒',
      series: '珍藏系列',
      brand: '茅台镇',
      channel: '电商',
      region: '华南',
      quantity: 400,
      unit_price: 1299.0,
      total_amount: 519600.0,
      cost: 311760.0,
      profit: 207840.0,
      profit_rate: 40.0,
      customer_type: '零售',
      salesperson: '陈七',
      order_id: 'ORD20241227001',
    },
    {
      date: '2024-12-26',
      product_id: 'PRD005',
      product_name: '高端起泡酒',
      category: '葡萄酒',
      series: '起泡系列',
      brand: '香奈',
      channel: '酒吧',
      region: '西南',
      quantity: 300,
      unit_price: 888.0,
      total_amount: 266400.0,
      cost: 133200.0,
      profit: 133200.0,
      profit_rate: 50.0,
      customer_type: '大客户',
      salesperson: '孙八',
      order_id: 'ORD20241226001',
    },
    {
      date: '2024-12-25',
      product_id: 'PRD001',
      product_name: '经典浓香型白酒500ml',
      category: '白酒',
      series: '经典系列',
      brand: '国窖',
      channel: '专卖店',
      region: '华北',
      quantity: 2000,
      unit_price: 298.0,
      total_amount: 596000.0,
      cost: 298000.0,
      profit: 298000.0,
      profit_rate: 50.0,
      customer_type: '经销商',
      salesperson: '周九',
      order_id: 'ORD20241225001',
    },
    {
      date: '2024-12-24',
      product_id: 'PRD003',
      product_name: '清香型白酒礼盒装',
      category: '白酒',
      series: '礼盒系列',
      brand: '汾酒',
      channel: '电商',
      region: '西北',
      quantity: 600,
      unit_price: 588.0,
      total_amount: 352800.0,
      cost: 211680.0,
      profit: 141120.0,
      profit_rate: 40.0,
      customer_type: '零售',
      salesperson: '吴十',
      order_id: 'ORD20241224001',
    },
    {
      date: '2024-12-23',
      product_id: 'PRD001',
      product_name: '经典浓香型白酒500ml',
      category: '白酒',
      series: '经典系列',
      brand: '国窖',
      channel: '餐饮',
      region: '华东',
      quantity: 900,
      unit_price: 298.0,
      total_amount: 268200.0,
      cost: 134100.0,
      profit: 134100.0,
      profit_rate: 50.0,
      customer_type: '经销商',
      salesperson: '张三',
      order_id: 'ORD20241223001',
    },
    {
      date: '2024-12-22',
      product_id: 'PRD004',
      product_name: '特选红葡萄酒750ml',
      category: '红酒',
      series: '特选系列',
      brand: '张裕',
      channel: '电商',
      region: '华东',
      quantity: 700,
      unit_price: 158.0,
      total_amount: 110600.0,
      cost: 55300.0,
      profit: 55300.0,
      profit_rate: 50.0,
      customer_type: '零售',
      salesperson: '赵六',
      order_id: 'ORD20241222001',
    },
    {
      date: '2024-12-21',
      product_id: 'PRD002',
      product_name: '年份珍藏酱香型白酒750ml',
      category: '白酒',
      series: '珍藏系列',
      brand: '茅台镇',
      channel: '专卖店',
      region: '西南',
      quantity: 250,
      unit_price: 1299.0,
      total_amount: 324750.0,
      cost: 194850.0,
      profit: 129900.0,
      profit_rate: 40.0,
      customer_type: '零售',
      salesperson: '陈七',
      order_id: 'ORD20241221001',
    },
  ],
  ds_product_performance: [
    {
      product_id: 'PRD001',
      product_name: '经典浓香型白酒500ml',
      lifecycle_stage: '成熟期',
      stage_start_date: '2024-06-01',
      stage_duration_days: 214,
      rd_progress: 100.0,
      quality_score: 92.5,
      market_score: 88.3,
      monthly_sales_volume: 15000,
      monthly_revenue: 447.0,
      market_share: 12.5,
      customer_satisfaction: 4.6,
      return_rate: 0.8,
      complaint_count: 12,
      positive_review_rate: 96.2,
      competitor_ranking: 3,
      price_competitiveness: 0.92,
      channel_coverage: 2850,
      inventory_turnover: 8.5,
      tech_manager: '陈工',
      rd_manager: '刘博',
    },
    {
      product_id: 'PRD002',
      product_name: '年份珍藏酱香型白酒750ml',
      lifecycle_stage: '成长期',
      stage_start_date: '2024-09-15',
      stage_duration_days: 107,
      rd_progress: 100.0,
      quality_score: 95.8,
      market_score: 91.2,
      monthly_sales_volume: 5000,
      monthly_revenue: 649.5,
      market_share: 8.3,
      customer_satisfaction: 4.8,
      return_rate: 0.3,
      complaint_count: 3,
      positive_review_rate: 98.5,
      competitor_ranking: 2,
      price_competitiveness: 0.88,
      channel_coverage: 1200,
      inventory_turnover: 6.2,
      tech_manager: '赵工',
      rd_manager: '张博',
    },
  ],
  ds_market_trends: [
    {
      period: '2024-Q4',
      category: '白酒',
      market_size: 856.5,
      growth_rate: 5.2,
      top_brands: ['茅台', '五粮液', '洋河', '泸州老窖'],
      our_market_share: 8.5,
      avg_price: 388.0,
      price_trend: '稳中有升',
      consumer_preference: {
        高端化: 35,
        年轻化: 28,
        健康化: 22,
        个性化: 15,
      },
      channel_distribution: { 电商: 38, 商超: 25, 专卖店: 22, 餐饮: 15 },
      seasonal_factor: 1.35,
      policy_impact: '消费税政策利好',
      risk_level: '低',
      opportunity_score: 8.2,
      data_source: '中商情报网',
    },
  ],
  ds_customer_insights: [
    {
      customer_id: 'CUS000001',
      customer_type: '经销商',
      region: '华东',
      city_tier: '一线城市',
      first_purchase_date: '2022-03-15',
      total_orders: 156,
      total_amount: 2856000.0,
      avg_order_value: 18307.69,
      repurchase_rate: 92.5,
      last_purchase_date: '2024-12-28',
      days_since_purchase: 3,
      rfm_score: 9.2,
      customer_value_tier: '钻石',
      preferred_products: ['PRD001', 'PRD002', 'PRD005'],
      preferred_channel: '直销',
      age_group: '35-45',
      gender: '男',
      churn_risk: 5.0,
      ltv: 5000000.0,
    },
  ],
  ds_inventory_stock: [
    {
      sku_id: 'SKU001-500',
      product_name: '经典浓香型白酒500ml',
      warehouse: '华东仓',
      current_stock: 28500,
      safety_stock: 10000,
      stock_status: '充足',
      days_of_supply: 45,
      avg_daily_sales: 633,
      pending_orders: 1200,
      in_transit: 5000,
      last_restock_date: '2024-12-20',
      next_restock_eta: '2025-01-10',
      supplier: '泸州酿酒厂',
      unit_cost: 149.5,
      stock_value: 4260750.0,
    },
    {
      sku_id: 'SKU002-750',
      product_name: '年份珍藏酱香型白酒750ml',
      warehouse: '华北仓',
      current_stock: 3200,
      safety_stock: 2000,
      stock_status: '预警',
      days_of_supply: 12,
      avg_daily_sales: 267,
      pending_orders: 800,
      in_transit: 3000,
      last_restock_date: '2024-12-15',
      next_restock_eta: '2025-01-05',
      supplier: '茅台镇酒业',
      unit_cost: 649.8,
      stock_value: 2079360.0,
    },
  ],
};
